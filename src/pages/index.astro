---
import Layout from '../layouts/Layout.astro';
import { contentfulClient } from '../lib/contentful';
import { documentToHtmlString } from '@contentful/rich-text-html-renderer';
import type { TypePageHomeSkeleton } from '../lib/__generated__/TypePageHome';
import SEO from '../components/SEO.astro';
import Text from '../components/Text.astro';
import Mapper from '../components/Contentful/Mapper.astro';
import HeroHome from '../components/Contentful/HeroHome.astro';

const entries = await contentfulClient.getEntries<TypePageHomeSkeleton>({
  content_type: 'pageHome',
  'fields.internalLabel': 'Home',
  include: 6,
});

const home = entries.items[0].fields;
---

<SEO title={home.title} description={home.description} />
<Layout>
  <HeroHome class="my-0 mx-[calc((100vw-100%)/-2)]" data={home.hero} />
  {home.content?.map((item) => <Mapper data={item} key={item.sys.id} />)}
</Layout>
